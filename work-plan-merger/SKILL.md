---
name: work-plan-merger
description: 智能整合多层工作规划的技能，用于将下属的子规划自动匹配并合并到总纲规划的相应部分，生成完整的markdown汇总文档。当用户需要整合多个规划文档时使用此技能。
---

# 工作规划汇总整合技能

## 技能概述

此技能专门用于将多个下属的子规划文档智能整合到总纲规划的相应部分，生成结构化的markdown汇总文档。适用于管理者整合团队工作规划的场景。

## 何时使用此技能

- 需要将多个下属的工作规划整合到统一的总纲中
- 生成完整的工作规划汇总文档
- 按照总纲结构重新组织多个规划文档的内容
- 创建层次化的规划报告

## 使用流程

### 1. 准备输入文件
- 确保总纲文件为markdown格式，包含清晰的结构层次
- 确保所有子规划文件为markdown格式
- 明确标识哪个文件是总纲文件

### 2. 分析总纲结构
执行以下步骤分析总纲文档结构：

```bash
python scripts/analyze_structure.py <总纲文件路径>
```

这将解析出总纲的章节结构和主题分布。

### 3. 智能匹配子规划
使用匹配算法将子规划内容分配到总纲的相应部分：

```bash
python scripts/merge_plans.py <总纲文件> <子规划目录> <输出文件>
```

匹配逻辑：
- 基于关键词和主题相似度匹配
- 考虑章节层次和逻辑关系
- 保持原有的markdown格式和结构

### 4. 生成汇总文档
脚本将生成完整的markdown汇总文档，包含：
- 原总纲的完整结构
- 匹配到的子规划内容整合在相应章节
- 清晰的层次结构和格式

## 输入要求

**总纲文件格式：**
- 使用markdown格式
- 具有清晰的章节结构（使用#、##、###等标题）
- 包含明确的工作领域或模块划分

**子规划文件格式：**
- 使用markdown格式
- 可以包含任意层次结构
- 内容应该相对独立和完整

## 输出格式

生成的汇总文档将：
- 保持总纲的原有结构框架
- 在相应章节下整合匹配的子规划内容
- 使用明确的分隔符标识不同来源的内容
- 维护markdown的格式和可读性

## 高级功能

### 自定义匹配规则
可以在 `references/matching_rules.md` 中定义：
- 关键词映射规则
- 章节对应关系
- 内容优先级设置

### 模板定制
使用 `assets/` 目录中的模板文件：
- 自定义输出格式
- 调整内容组织方式
- 添加特定的样式或标记

## 故障排除

**匹配不准确时：**
1. 检查总纲结构的清晰度
2. 调整匹配规则配置
3. 手动指定特定子规划的归属章节

**格式问题时：**
1. 确保所有输入文件都是有效的markdown格式
2. 检查文件编码是否为UTF-8
3. 验证markdown语法正确性

## 最佳实践

- 总纲应该具有清晰的结构和明确的主题划分
- 子规划文件名应该能反映其内容主题
- 建议在整合前备份原始文件
- 可以使用小规模测试来验证匹配效果